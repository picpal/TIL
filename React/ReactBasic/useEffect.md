# React useEffect

## Side Effect

### Main Job

> 리액트의 중요한 기능중 하나는 사용자의 행동에 반응하여 필요한 UI를 랜더링 하는 것이다.

### Side Effect

> Main job을 제외한 나머지 모든 것. 일반적인 컴포넌트 평가 밖에서 일어나야 하는 작업들.

- http 요청 보내는 것
    <aside>
    💡 http 요청을 컴포넌트 안에서 구현하는 경우가 생긴다면 무한루프에 빠질 수 있다. 컴포넌트 함수가 다시 실행될때 마다 요청을 보내고 받은 요청으로 다시 state를 변경하고 state가 변경됨에 따라 다시 컴포넌트 함수가 호출되는 형태로 무한반복 된다. 그래서 특정 side effect는 직접적으로 컴포넌트 함수에 선언되어서는 안된다.
    
    </aside>

- 브라우저 저장소에 무언가를 저장하는 것
- 코드에서 타이머나 간격 설정
- 잠재적 오류 처리

<br />

## useEffect()

- react 내장 hook
- 컴포넌트 내부에서 실행 할 수 있는 함수
- 두개의 매개변수 , 두개의 인수와 같이 호출
  ```jsx
  useEffect(
  	() => { ... } ,
    [ dependencies ]
  );
  ```
  - 첫번째 인자 () => { ... }
    - 지정된 의존성이 변경된 경우 모든 컴포넌트 평가 후에 실행되어야 하는 함수.
    - 컴포넌트 함수가 실행되고 난 후에 실행되는 방식이라는 점이 중요!!!!
      - 이점이 왜 중요하냐면, 데이터를 서버에서 가져와서 실행하는 경우 화면이 깜박이는 현상이 발생 할 수 있다. 랜더링을 첫번째 실행한 뒤 서버 데이터를 가져와서 state를 변경하면 재 랜더링을 실행하고 다시 함수를 호출하게 되기 때문이다.
  - 두번째 인자 [ dependencies ]
    - 지정한 의존성
    - 지정된 의존성이 변경 될 때 마다 첫번째 인자가 실행된다.
